<!DOCTYPE html>
<html>
<head>
  <title>Test - App Loading</title>
  <style>
    body { font-family: Arial; padding: 20px; }
    #log { border: 1px solid #ccc; padding: 10px; min-height: 200px; background: #f5f5f5; font-size: 12px; overflow-y: auto; max-height: 400px; }
    .error { color: red; }
    .success { color: green; }
  </style>
</head>
<body>
  <h1>Debug Test</h1>
  <div id="log"></div>
  
  <script>
    function log(msg, type = 'info') {
      const logEl = document.getElementById('log');
      const line = document.createElement('div');
      line.className = type;
      line.textContent = '[' + type.toUpperCase() + '] ' + msg;
      logEl.appendChild(line);
      console.log(msg);
    }
    
    log('Page loaded', 'success');
    log('Checking Chart availability...', 'info');
    
    window.addEventListener('load', () => {
      log('Window load event fired', 'success');
      log('Chart available: ' + (typeof window.Chart !== 'undefined'), window.Chart ? 'success' : 'error');
      log('html2pdf available: ' + (typeof window.html2pdf !== 'undefined'), window.html2pdf ? 'success' : 'error');
    });
    
    setTimeout(() => {
      log('After timeout - Chart available: ' + (typeof window.Chart !== 'undefined'), window.Chart ? 'success' : 'error');
    }, 500);
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" defer></script>
</body>
</html>
