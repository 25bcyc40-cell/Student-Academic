<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Student Performance Analytics</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    html,body { width:100%; height:100%; font-family: 'Poppins', sans-serif; }
    body { background:#f6f8fb; color:#1a1a2e; line-height:1.6; }
  </style>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" defer></script>
</head>
<body>
  <!-- LOGIN PAGE -->
  <div id="loginPage" class="page">
    <div class="auth-container">
      <div class="card glass">
        <div class="brand">ðŸ“š SPA</div>
        <h2>Student Performance Analytics</h2>
        <h3>Admin Login</h3>
        <form id="loginForm">
          <div class="form-group">
            <label>Username</label>
            <input type="text" name="username" id="loginUsername" required>
          </div>
          <div class="form-group">
            <label>Password</label>
            <input type="password" name="password" id="loginPassword" required>
          </div>
          <button type="submit" class="btn primary">Login</button>
          <div id="loginError" class="error"></div>
        </form>
        <p style="margin-top: 16px; font-size: 12px; color: #666;">
          Demo: username=<strong>admin</strong> password=<strong>admin@123</strong>
        </p>
      </div>
    </div>
  </div>

  <!-- DASHBOARD PAGE -->
  <div id="dashboardPage" class="page" style="display: none;">
    <div class="app">
      <!-- SIDEBAR -->
      <aside class="sidebar">
        <div class="brand">ðŸ“š SPA</div>
        <nav>
          <button class="nav-btn active" data-view="dashboard">Dashboard</button>
          <button class="nav-btn" data-view="students">Students</button>
          <button class="nav-btn" data-view="subjects">Subjects</button>
          <button class="nav-btn" data-view="marks">Marks</button>
          <button class="nav-btn" data-view="reports">Reports</button>
          <button class="nav-btn" data-view="settings">Settings</button>
          <hr>
          <button class="nav-btn danger" id="logoutBtn">Logout</button>
        </nav>
      </aside>

      <!-- MAIN CONTENT -->
      <div class="main">
        <header class="topbar">
          <h1>Student Performance Analytics</h1>
          <div class="profile">
            <span id="userDisplay">Admin</span>
          </div>
        </header>

        <section class="content">
          <!-- DASHBOARD VIEW -->
          <div id="dashboard-view" class="view active">
            <h2>Dashboard</h2>
            <div class="stats-grid">
              <div class="card stat">
                <h4>Total Students</h4>
                <div id="totalStudents" class="stat-value">0</div>
              </div>
              <div class="card stat">
                <h4>Average GPA</h4>
                <div id="avgGPA" class="stat-value">0.00</div>
              </div>
              <div class="card stat">
                <h4>Top Performer</h4>
                <div id="topPerformer" class="stat-value">â€”</div>
              </div>
              <div class="card stat">
                <h4>Total Subjects</h4>
                <div id="totalSubjects" class="stat-value">0</div>
              </div>
            </div>

            <div class="charts-grid">
              <div class="card">
                <h3>Semester-wise GPA</h3>
                <canvas id="gpaChart"></canvas>
              </div>
              <div class="card">
                <h3>Subject-wise Marks</h3>
                <canvas id="marksChart"></canvas>
              </div>
            </div>
          </div>

          <!-- STUDENTS VIEW -->
          <div id="students-view" class="view">
            <div class="view-header">
              <h2>Students</h2>
              <button class="btn primary" id="addStudentBtn">+ Add Student</button>
            </div>
            <div class="card">
              <div id="studentsList"></div>
            </div>
          </div>

          <!-- SUBJECTS VIEW -->
          <div id="subjects-view" class="view">
            <div class="view-header">
              <h2>Subjects</h2>
              <button class="btn primary" id="addSubjectBtn">+ Add Subject</button>
            </div>
            <div class="card">
              <div id="subjectsList"></div>
            </div>
          </div>

          <!-- MARKS VIEW -->
          <div id="marks-view" class="view">
            <div class="view-header">
              <h2>Marks Entry</h2>
              <button class="btn primary" id="addMarkBtn">+ Add Mark</button>
            </div>
            <div class="card">
              <div id="marksList"></div>
            </div>
          </div>

          <!-- REPORTS VIEW -->
          <div id="reports-view" class="view">
            <h2>Reports</h2>
            <div class="card">
              <p>Select a student to download their academic report:</p>
              <div id="reportsList"></div>
            </div>
          </div>

          <!-- SETTINGS VIEW -->
          <div id="settings-view" class="view">
            <h2>Settings</h2>
            <div class="card">
              <div class="form-group">
                <label>Change Password</label>
                <input type="password" id="newPassword" placeholder="New password">
                <button class="btn" id="changePasswordBtn" style="margin-top: 8px;">Update Password</button>
              </div>
              <hr style="margin: 20px 0;">
              <div class="form-group">
                <label style="color: #d32f2f;">Danger Zone</label>
                <button class="btn danger" id="clearDataBtn">Clear All Data (Reset App)</button>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </div>

  <!-- MODAL -->
  <div id="modalOverlay" class="modal-overlay">
    <div class="modal card">
      <div class="modal-header">
        <h3 id="modalTitle">Modal</h3>
        <button id="modalCloseBtn" class="btn-close">&times;</button>
      </div>
      <div id="modalBody"></div>
    </div>
  </div>

  <!-- TOAST NOTIFICATIONS -->
  <div id="toast" class="toast"></div>

  <script src="app.js"></script>
</body>
</html>
